
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>啟動 App 中…</title>
  <script>
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function redirectToIntent() {
      const page = getQueryParam("page") || "home";
      const t = getQueryParam("t") || Date.now();

      const scheme = "my55688";
      const pkg = "dbx.taiwantaxi.dev";

      const fallback = `https://play.google.com/store/apps/details?id=${pkg}&referrer=utm_content%3D${encodeURIComponent(page)}`;
      const intentUrl = `intent://${page}?t=${t}#Intent;scheme=${scheme};package=${pkg};S.browser_fallback_url=${encodeURIComponent(fallback)};end`;

      window.location.href = intentUrl;
    }

    window.onload = function () {
      setTimeout(redirectToIntent, 100);
    };
  </script>
  <style>
    body {
      text-align: center;
      font-family: sans-serif;
      padding-top: 60px;
      background: #f2f2f2;
    }
  </style>
</head>
<body>
  <h1>正在開啟 55688 App…</h1>
  <p>如果沒有自動開啟，請確認您已安裝 App</p>
</body>
</html>
